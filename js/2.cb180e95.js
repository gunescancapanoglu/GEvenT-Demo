(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0082":function(t,i,e){"use strict";var s=e("51b0"),a=e.n(s);a.a},"2cd5":function(t,i,e){"use strict";var s=e("fdcb"),a=e.n(s);a.a},"2e90":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("q-scroll-area",{style:"height: "+t.height+"px"},[e("q-list",{staticClass:"q-pa-sm q-gutter-sm"},t._l(t.$store.state.Firestore.Factory.Events,(function(i){return e("Item",{key:i.id,staticClass:"shadow-3",attrs:{activity:i},on:{"un-bind-other-collections":t.unBindOtherCollections}})})),1)],1)},a=[],c=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"relative-position"},[e("q-slide-item",{on:{left:t.onSwipe,right:t.onSwipe},scopedSlots:t._u([{key:"left",fn:function(){return[e("div",{staticClass:"q-gutter-sm"},[e("q-btn",{attrs:{round:"",color:"primary",icon:t.Icons.mdiCircle},on:{click:t.onReset}}),e("q-btn",{attrs:{round:"",color:"primary",icon:t.Icons.mdiMapMarker},on:{click:t.onReset}}),e("q-btn",{attrs:{round:"",color:"primary",icon:t.Icons.mdiMapMarkerPlusOutline},on:{click:t.onReset}}),e("q-btn",{attrs:{round:"",color:"primary",icon:t.Icons.mdiTargetVariant},on:{click:t.onReset}})],1)]},proxy:!0},{key:"right",fn:function(){return[e("div",{staticClass:"q-gutter-sm"},[e("q-btn",{attrs:{round:"",color:"primary",icon:t.Icons.mdiCircle},on:{click:t.onReset}}),e("q-btn",{attrs:{round:"",color:"primary",icon:t.Icons.mdiMapMarker},on:{click:t.onReset}}),e("q-btn",{attrs:{round:"",color:"primary",icon:t.Icons.mdiMapMarkerPlusOutline},on:{click:t.onReset}}),e("q-btn",{attrs:{round:"",color:"primary",icon:t.Icons.mdiTargetVariant},on:{click:t.onReset}})],1)]},proxy:!0}])},[e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[e("q-item-section",{style:t.activity.body?"":"flex-wrap: nowrap;"},[e("q-item-label",{staticClass:"text-secondary vertical-middle-children",attrs:{overline:""}},[t.activity.photoURL?e("q-avatar",{attrs:{size:"xs"}},[e("q-img",{attrs:{src:t.activity.photoURL,ratio:1}})],1):t._e(),e("span",[t._v(" "+t._s(t.activity.displayName))]),t.activity.place?e("span",{staticClass:"float-right"},[t._v(t._s(t.activity.place))]):t._e(),t.activity.place&&t.activity.count?e("span",{staticClass:"float-right"},[t._v("•")]):t._e(),t.activity.count?e("span",{staticClass:"float-right"},[t._v(t._s(t.activity.count)),e("q-icon",{attrs:{name:t.Icons.mdiCommentOutline}})],1):t._e(),(t.activity.place||t.activity.count)&&(t.activity.dates||t.activity.hours)?e("span",{staticClass:"float-right"},[t._v("•")]):t._e(),t.activity.dates?e("span",{staticClass:"float-right"},[t._v(t._s(t.activity.dates>0?t.activity.dates+" d. later":Math.abs(t.activity.dates)+" d. ago"))]):t._e(),t.activity.hours?e("span",{staticClass:"float-right"},[t._v(t._s(t.activity.hours>0?t.activity.hours+" hr. later":Math.abs(t.activity.hours)+" hr. ago"))]):t._e(),t.activity.position&&t.activity.distance&&(t.activity.dates||t.activity.hours)?e("span",{staticClass:"float-right"},[t._v("•")]):t._e(),t.activity.position&&t.activity.distance?e("span",{staticClass:"float-right"},[t._v(t._s(t.activity.distance)+" m")]):t._e()],1),t.activity.subject?e("q-item-label",{staticClass:"text-secondary",attrs:{lines:t.contentEllipsis?1:0},on:{click:function(i){t.activity.id?t.contentEllipsis=!t.contentEllipsis:t.$emit("load-activities")}}},[t._v("\n          "+t._s(t.activity.subject)+"\n        ")]):t._e(),t.activity.body||t.activity.image?e("q-item-label",{staticClass:"row items-center",style:t.activity.body?"":"flex-wrap: nowrap;",attrs:{caption:""},on:{click:function(i){t.activity.id?t.contentEllipsis=!t.contentEllipsis:t.$emit("load-activities")}}},[t.activity.image?e("q-img",t._b({staticClass:"col",attrs:{src:t.activity.image}},"q-img",t.contentEllipsis?{ratio:1.7}:{},!1)):t._e(),t.activity.body?e("div",t._b({class:(t.contentEllipsis?t.activity.id||t.activity.image?"ellipsis-3-lines":"ellipsis":"")+" "+(t.activity.image?"col-10":"col-12")},"div",t.activity.image?{style:"padding-left: 5px;"}:{},!1),[t._v("\n            "+t._s(t.activity.body)+"\n          ")]):t._e()],1):t._e()],1)],1)],1),t._t("default"),t.activities&&t.activities.length>0?e("q-timeline",{ref:"qTimeline",attrs:{color:"secondary"}},[e("q-timeline-entry",{attrs:{icon:t.activitiesLoaded?t.Icons.mdiChevronDown:t.Icons.mdiChevronRight}},t._l(t.activities,(function(i,s){return e("Item",{key:i.id,attrs:{activity:i},on:{"load-activities":t.createBindActivitiesStore,"un-bind-other-collections":t.unBindOtherCollections}},[t.activity.count>2&&0===s&&!t.activitiesLoaded?e("span",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"text-secondary flex justify-center",attrs:{clickable:""},on:{click:t.createBindActivitiesStore}},[t._v("• • •")]):t._e(),0===s&&t.activitiesLoaded?e("q-btn",{staticClass:"absolute-top-right",staticStyle:{top:"13px"},attrs:{icon:t.Icons.mdiWindowClose,round:"",flat:"",size:"xs",color:"secondary"},on:{click:t.unbindDestroyActivitiesStore}}):t._e()],1)})),1),e("q-timeline-entry")],1):t._e()],2)},n=[],o={name:"Item",props:{activity:{type:Object,default:()=>{}}},data(){return{reset:null,contentEllipsis:!0}},computed:{subActivities(){const t=this.$store.state.Firestore.Factory[this.activity.id];return t&&t.length>0?t:[]},activitiesLoaded(){return this.subActivities.length>0},activities(){return this.activitiesLoaded?this.subActivities:this.activity.activities}},mounted(){this.$refs.qTimeline&&this.$refs.qTimeline.$el&&this.$refs.qTimeline.$el.querySelector(".q-timeline__dot").addEventListener("click",()=>this.activitiesLoaded?this.unbindDestroyActivitiesStore():this.createBindActivitiesStore())},beforeDestroy(){this.activitiesLoaded&&this.unbindDestroyActivitiesStore()},methods:{onSwipe({reset:t}){this.reset&&this.reset(),this.reset=t},onReset(){this.reset&&this.reset(),this.reset=null},createBindActivitiesStore(){return this.$emit("un-bind-other-collections",this.activity.id),this.$store.dispatch("Firestore/Factory/bindCollection",{collectionId:this.activity.id,query:t=>t.doc(this.activity.path).collection("Activities").orderBy("created")})},unbindDestroyActivitiesStore(){return this.$store.dispatch("Firestore/Factory/unBindCollection",this.activity.id)},unBindOtherCollections(t){this.$emit("un-bind-other-collections",this.activity.id),this.activitiesLoaded&&this.activities.filter(i=>i.id!==t).forEach(t=>this.$store.dispatch("Firestore/Factory/unBindCollection",t.id))}}},r=o,l=(e("0082"),e("2877")),d=e("de1d"),v=e("9c40"),y=e("66e5"),u=e("4074"),p=e("0170"),h=e("cb32"),m=e("068f"),b=e("0016"),f=e("05eb"),_=e("74af"),g=e("714f"),q=e("eebe"),C=e.n(q),k=Object(l["a"])(r,c,n,!1,null,"030fd858",null),I=k.exports;C()(k,"components",{QSlideItem:d["a"],QBtn:v["a"],QItem:y["a"],QItemSection:u["a"],QItemLabel:p["a"],QAvatar:h["a"],QImg:m["a"],QIcon:b["a"],QTimeline:f["a"],QTimelineEntry:_["a"]}),C()(k,"directives",{Ripple:g["a"]});var w={name:"List",components:{Item:I},props:{height:{type:Number,default:100}},methods:{unBindOtherCollections(t){this.$store.state.Firestore.Factory.Events.filter(i=>i.id!==t).forEach(t=>this.$store.dispatch("Firestore/Factory/unBindCollection",t.id))}}},$=w,S=(e("2cd5"),e("4983")),E=e("1c1c"),x=Object(l["a"])($,s,a,!1,null,null,null);i["default"]=x.exports;C()(x,"components",{QScrollArea:S["a"],QList:E["a"]})},"51b0":function(t,i,e){},fdcb:function(t,i,e){}}]);